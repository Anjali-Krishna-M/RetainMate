{% extends "base.html" %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="text-warning mb-0"><i class="bi bi-shield-lock-fill"></i> Admin Console</h2>
    <a href="/comparison" class="btn btn-outline-info">
        <i class="bi bi-bar-chart-steps me-2"></i> View Model Comparison
    </a>
</div>

<div class="card border-danger mb-4">
    <div class="card-header border-danger bg-danger bg-opacity-10 text-danger">
        <h5 class="mb-0"><i class="bi bi-exclamation-triangle-fill me-2"></i>Danger Zone</h5>
    </div>
    <div class="card-body d-flex justify-content-between align-items-center">
        <div>
            <h6 class="text-white mb-1">Reset Customer Database</h6>
            <p class="text-muted small mb-0">This will permanently delete all customer records. This action cannot be undone.</p>
        </div>
        <a href="/reset_db" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete ALL customer data?');">
            <i class="bi bi-trash3-fill me-2"></i> Clear Database
        </a>
    </div>
</div>

<div class="card">
    <div class="card-header border-0">
        <h5 class="mb-0">System Activity Logs</h5>
    </div>
    <div class="card-body p-0">
        <table class="table table-hover mb-0">
            <thead><tr><th>Time</th><th>User</th><th>Action</th><th>Details</th></tr></thead>
            <tbody>
                {% for log in logs %}
                <tr>
                    <td class="text-muted small">{{ log.timestamp.strftime('%Y-%m-%d %H:%M') }}</td>
                    <td>User #{{ log.user_id }}</td>
                    <td class="text-warning">{{ log.action }}</td>
                    <td>{{ log.details }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}